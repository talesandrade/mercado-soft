{"ast":null,"code":"import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AddProduct(){const navigate=useNavigate();const[formvalue,setFormvalue]=useState({nome:'',valor:'',tipo:''});const[message,setMessage]=useState('');const handleInput=e=>{setFormvalue({...formvalue,[e.target.name]:e.target.value});};const[typeData,setTypeData]=useState([]);useEffect(()=>{const getTypeList=async()=>{var res=await axios.get(\"http://localhost:8080/tipos\");if(res!==null&&res!==void 0&&res.data){setTypeData(res.data.data);}};getTypeList();},[]);/*var tipos = axios.get(\"http://localhost:8080/tipos\");\n    var tiposlist = tipos.data;\n    console.log(tipos);*/const handleSubmit=async e=>{e.preventDefault();var bodyFormData=new FormData();bodyFormData.append('nome',formvalue.nome);bodyFormData.append('valor',formvalue.valor);bodyFormData.append('tipo',formvalue.tipo);const res=await axios.post(\"http://localhost:8080/cadastrar-produtos\",bodyFormData);if(res.data.success){setMessage(res.data.data.success);setTimeout(()=>{navigate('/productlist');},2000);}};return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Adicionar Produto\"}),/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Nome do produto:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nome\",className:\"form-control\",id:\"nome\",required:true,value:formvalue.nome,onChange:handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Valor:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"valor\",className:\"form-control\",required:true,id:\"valor\",value:formvalue.valor,onChange:handleInput})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",name:\"tipo\",\"aria-label\":\"\",required:true,value:formvalue.tipo,onChange:handleInput,children:[/*#__PURE__*/_jsx(\"option\",{selected:true,value:\"\",children:\"Selecione um tipo:\"}),typeData.map((tData,index)=>{return/*#__PURE__*/_jsx(\"option\",{value:tData.id,children:tData.nome});})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Salvar\"})]})]})});}export default AddProduct;","map":{"version":3,"names":["axios","React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","AddProduct","navigate","formvalue","setFormvalue","nome","valor","tipo","message","setMessage","handleInput","e","target","name","value","typeData","setTypeData","getTypeList","res","get","data","handleSubmit","preventDefault","bodyFormData","FormData","append","post","success","setTimeout","Fragment","children","className","onSubmit","htmlFor","type","id","required","onChange","selected","map","tData","index"],"sources":["/var/www/mercado-front/src/Component/Product/AddProduct.js"],"sourcesContent":["import axios from \"axios\";\nimport React, {useEffect , useState} from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction AddProduct(){\n\n    const navigate = useNavigate();\n    const [formvalue, setFormvalue] = useState({nome:'',valor:'',tipo:''});\n    const [message, setMessage] = useState('');\n    const handleInput =(e)=>{\n        setFormvalue({...formvalue, [e.target.name]:e.target.value});\n    }\n\n    const [typeData, setTypeData] = useState([]);\n    useEffect( ()=>{\n        const getTypeList = async()=>{\n            var res = await axios.get(\"http://localhost:8080/tipos\");\n            if (res?.data) {\n                setTypeData(res.data.data);\n            }\n        }\n        getTypeList();\n\n    },[]);\n\n    /*var tipos = axios.get(\"http://localhost:8080/tipos\");\n    var tiposlist = tipos.data;\n    console.log(tipos);*/\n\n    const handleSubmit =async(e)=>{\n        e.preventDefault();\n        \n        var bodyFormData = new FormData();\n        bodyFormData.append('nome', formvalue.nome);\n        bodyFormData.append('valor', formvalue.valor);\n        bodyFormData.append('tipo', formvalue.tipo);\n        \n        const res = await axios.post(\"http://localhost:8080/cadastrar-produtos\",bodyFormData);\n\n        if(res.data.success){\n            setMessage(res.data.data.success);\n            setTimeout(\n                ()=>{\n                    navigate('/productlist')\n                }, 2000\n            );\n        }\n    }\n\n    return(\n        <React.Fragment>\n        <div className=\"container\">\n            <h5>Adicionar Produto</h5>\n            <p>{ message }</p>\n            <form onSubmit={handleSubmit}>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Nome do produto:</label>\n                    <input type=\"text\" name=\"nome\" className=\"form-control\" id=\"nome\" required value={formvalue.nome} onChange={handleInput}/>\n                </div>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Valor:</label>\n                    <input type=\"text\" name=\"valor\" className=\"form-control\" required id=\"valor\"value={formvalue.valor} onChange={handleInput}/>\n                </div>\n                <div className=\"mb-3\">\n                    <select className=\"form-select\" name=\"tipo\" aria-label=\"\" required value={formvalue.tipo} onChange={handleInput}>\n                        <option selected value=\"\" >Selecione um tipo:</option>\n                        {\n                            typeData.map((tData, index)=>{\n                                return (\n                                    <option value={tData.id}>{tData.nome}</option>\n                                );\n                            })\n                        }\n                        \n                    </select>\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary\">Salvar</button>\n            </form>\n        </div>\n        </React.Fragment>\n    );\n}\n\nexport default AddProduct;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}